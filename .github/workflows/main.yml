name: PR Branch Check

on:
  pull_request:
    branches: 
      - main   # main ë¸Œëœì¹˜ë¡œ ê°€ëŠ” PRë§Œ ì²´í¬

jobs:
  check-branch:
    runs-on: ubuntu-latest
    # main ë¸Œëœì¹˜ë¡œ ê°€ëŠ” PRì¸ ê²½ìš°ì—ë§Œ ì‹¤í–‰
    if: github.base_ref == 'main'
    steps:
      - name: Check source branch
        uses: actions/github-script@v7
        with:
          script: |
            const head = context.payload.pull_request.head.ref;
            const base = context.payload.pull_request.base.ref;
            
            if (head !== 'develop') {
              core.setFailed(`
                ğŸš« Invalid Branch Configuration
                
                Only PRs from 'develop' branch to 'main' branch are allowed.
                Your PR: ${head} -> ${base}
              `);
            }
